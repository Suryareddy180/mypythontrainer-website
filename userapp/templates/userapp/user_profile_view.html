{% extends 'userapp/new-base.html' %}
{% load static %}
{% load humanize %}
{% load custom_filters %}
{% block title %}My Profile{% endblock %}
{% block content %}

<section id="complete_python" class="mt-5">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h4>My Profile</h4>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-lg-3 text-center">
                <div class="card" style="border: none;">
                    <div class="card-body">
                        {% if user_profile.photo and user_profile.photo.url %}
                            <img src="{{ user_profile.photo.url }}" alt="Profile Photo" class="img-fluid rounded-circle shadow" style="width: 150px; height: 150px; object-fit: cover;">
                        {% else %}
                            <img src="{% static 'userapp/images/default_user.png' %}" alt="Default Profile Photo" class="img-fluid rounded-circle shadow" style="width: 150px; height: 150px; object-fit: cover;">
                        {% endif %}
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                {% if messages %}
                    <div class="row">
                        <div class="col-md-12">
                            {% for msg in messages %}
                                <div class="alert alert-{{ msg.tags }} text-{{ msg.tags }}">
                                    {{ msg }}
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}

                <div class="mt-3">
                    <p><b>Username:</b> {{ user.first_name }} {{ user.last_name }}</p>
                    <p><b>Email:</b> {{ user.email }}</p>
                    <p><b>Mobile:</b> +{{ user_profile.country_code }} {{ user_profile.mobile_number }}</p>
                    <p><b>Qualification:</b> {{ user_profile.qualification }}</p>
                    <p><b>Designation:</b> {{ user_profile.position }}</p>
                    <p><b>City:</b> {{ user_profile.city }}</p>
                    <p><b>Country:</b> {{ user_profile.country }}</p>

                    <a href="{% url 'userapp:user_profile_edit' %}" class="btn btn-success mt-3">
                        Edit Profile
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}
